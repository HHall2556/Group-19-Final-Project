(()=>{"use strict";const e={getTitle:()=>`%chb-${s}`,styles:{log:"color: white; font-weight: 700; background: #06d8c6; padding: 2px 4px; border-radius: 4px;",error:"color: white; font-weight: 700; background: #fd3c34; padding: 2px 4px; border-radius: 4px;",warn:"color: white; font-weight: 700; background: #ffff99; color: #444; padding: 2px 4px; border-radius: 4px;"},log(){window.wPbjs&&window.wPbjs.debug&&console.log.apply(console,[this.getTitle(),this.styles.log,...arguments])},error(){window.wPbjs&&window.wPbjs.debug&&console.error.apply(console,[this.getTitle(),this.styles.error,...arguments])},warn(){window.wPbjs&&window.wPbjs.debug&&console.warn.apply(console,[this.getTitle(),this.styles.warn,...arguments])}};function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}const i="https://hb.brainlyads.com",n=`${i}/metrics`,a=t(),r=12e5,d=[1,2],o=864e5,s="2.0",c=8e3;function u(e,t,i){if(!Array.isArray(t))return;let n=e.document.getElementsByTagName("script")[0],a=0;t.forEach((r=>{let d=e.document.createElement("script");d.async=!!r.async,d.type="text/javascript",d.src=r.src,"function"==typeof i&&(d.onload=function(){++a==t.length&&i()});try{n.parentNode.insertBefore(d,n)}catch(e){console.error(e)}}))}const p={getItem(e){const t=p.getJSON(e);return t?this.isExpire(t)?(localStorage.removeItem(e),null):t:null},getItemValue(e){const t=p.getItem(e);return t?t.value:null},getItemExpires(e){const t=p.getItem(e);return t?t.expires:null},setItem(e,t,i){const n={value:t,expires:(new Date).getTime()+i};p.setJSON(e,n)},updateItemValue(e,t){const i=p.getJSON(e);return!!i&&(i.value=t,p.setJSON(e,i),!0)},updateItemExpires(e,t){const i=p.getJSON(e);return!!i&&(i.expires=t,p.setJSON(e,i),!0)},getJSON(e){const t=localStorage.getItem(e);return t?function(e){try{return JSON.parse(e)}catch(e){return console.error(e),null}}(t):null},setJSON:(e,t)=>localStorage.setItem(e,JSON.stringify(t)),isExpire:e=>(new Date).getTime()>e.expires,garbageCollector(e,t=36e5){setTimeout((()=>{Object.keys(localStorage).forEach((t=>{0===t.indexOf(e)&&this.getItem(t)})),this.garbageCollector(e,t)}),t)}},m={key:{getSkip:(e,t,i)=>m.key.make("hb","skc",e,t,i,"s"),getRepeat:(e,t,i)=>m.key.make("hb","skc",e,t,i,"r"),getCap:(e,t,i)=>m.key.make("hb","skc",e,t,i,"c"),getBidderCap:(e,t)=>m.key.make("hb","bc",e,t),getAmazonCap:e=>m.key.make("hb","bac",e),make:(...e)=>e.join("_")},counter:{make:(e,t,i)=>(null===p.getItem(e)&&p.setItem(e,t,i),{count:()=>p.getItemValue(e),ttl:()=>p.getItemExpires(e),setCount(t,i){p.setItem(e,t,i)},incrCount(){p.updateItemValue(e,this.count()+1,i)}})},winbidder:{key:(e,t)=>`hb_${t}_${e}`,incr(e,t){const i=this.key(e,t),n=p.getItem(i);n?p.updateItemValue(i,n.value+1,n.ttl):p.setItem(i,1,o)},count(e,t){const i=this.key(e,t);return p.getItemValue(i)||0}},check:{amazonCap(e,t){if(!e||!t)return!1;const i=m.key.getAmazonCap(t),n=m.counter.make(i,0,o);return!!(n.count()>=e)||(n.incrCount(),!1)},bidderCap(e,t){if(!(e&&e.cap&&t&&t.unitId))return!1;const i=m.key.getBidderCap(e.bidder,t.unitId),n=m.counter.make(i,0,o),a=e.cap;return!!(n.count()>=a)||(n.incrCount(),!1)},perPageCap(e,t){if(!(e&&e.pageCap&&t&&t.unitId&&t.pageId))return!1;if(!e.pageCap.skip&&!e.pageCap.repeat&&!e.pageCap.cap)return!1;const i=o,{pageCap:n}=e,{unitId:a,pageId:r}=t,d=m.key.getSkip(e.bidder,a,r),s=m.key.getRepeat(e.bidder,a,r),c=m.key.getCap(e.bidder,a,r),u=n.skip,p=n.repeat,l=n.cap,b=m.counter.make(d,0,i),g=m.counter.make(s,0,i),f=m.counter.make(c,0,i),w=!!n.capPerFill,h=b.count(),A=g.count(),y=w?t.winbidder:f.count();if(l>0&&y>=l)return!0;if(u>0&&h<u)return b.incrCount(),!0;if(p>0){if(A<p)return g.incrCount(),0!==A||(!w&&l>0&&f.incrCount(),!1);{const e=f.ttl();return g.setCount(0,e-(new Date).getTime()),!0}}return!w&&l>0&&f.incrCount(),!1}},filterBidders:(e,t)=>e.filter((e=>{const i=m.winbidder.count(e.bidder,t.pageId);return!(m.check.bidderCap(e,t)||m.check.perPageCap(e,{...t,winbidder:i}))}))};p.garbageCollector("hb_");const l={schain:void 0,config:void 0};const b=function(e){if(!e)return;if("string"==typeof e&&e.includes("x")&&(e=e.split("x").map((e=>parseInt(e)))),!e[0])return;let t=[];return Array.isArray(e[0])?e.forEach((e=>{t.push({w:e[0],h:e[1]})})):t.push({w:e[0],h:e[1]}),t},g={nm:function(e,t){let i=b(t.sizes||e.sizesAdUnit||e.size||e.sizes)||[300,250];return{bidder:"nm",endpoint:"https://pbs.nextmillmedia.com/openrtb2/auction",corsMode:"cors",body:{id:e.pbjsAuctionId,source:{tid:e.pbjsAuctionId,ext:{schain:{ver:"1.0",complete:1,nodes:[{asi:"nextmillennium.io",sid:"15170",hp:1}]}}},tmax:8e3,imp:[{id:e.divId,ext:t.bidderParams||{},banner:{format:i}}],test:t.test||0,ext:t.rootExt,site:{publisher:{id:t.siteId||1},page:document.domain},device:{w:window.innerWidth||screen.availWidth,h:window.innerHeight||screen.availHeight},regs:{ext:{us_privacy:"1---"}}}}},loopme:function(e,t){let i=b(t.sizes||e.sizesAdUnit||e.size||e.sizes)||[300,250];return{bidder:"loopMe",endpoint:"https://next-millennium-media-eu.loopmertb.com",corsMode:"no-cors",body:{id:e.pbjsAuctionId,source:{tid:e.pbjsAuctionId,ext:{schain:{ver:"1.0",complete:1,nodes:[{asi:"nextmillennium.io",sid:"15170",hp:1}]}}},tmax:c,imp:[{id:e.divId,ext:t.imp&&t.imp.biddersExt||{},banner:{w:i[0].w,h:i[0].h,format:i}}],ext:{},site:{page:document.domain},device:{w:window.innerWidth||screen.availWidth,h:window.innerHeight||screen.availHeight,ip:t.ip,os:t.os,osv:t.osv,ua:window.navigator.userAgent},at:1,cur:["USD"],regs:{ext:{us_privacy:"1---"}}}}}};function f(e,t){e.frameData.ortbWinBidChosen||(t&&e.frameData.ortbBids.push(t),++e.frameData.ortbCompletedBidders>=e.frameData.ortbTotalBidders&&function(e){if(e.frameData.ortbWinBidChosen)return w(e);if(e.frameData.ortbWinBidChosen=!0,!e.frameData.ortbBids.length)return w(e);let t,i=0;e.frameData.ortbBids.forEach((e=>{e.seatbid.forEach((e=>{e.bid.forEach((e=>{e.price>i&&(t=e,i=e.price)}))}))})),t&&i&&(e.frameData.ortbBid={cpm:i,bid:t,size:[t.w||300,t.h||250]}),w(e)}(e))}function w(e){if(e.frameData.ortbDone)return;e.frameData.ortbDone=!0;let t={};if(!(e.frameData.ortbBid&&e.frameData.ortbBid.cpm&&e.frameData.ortbBid.bid))return e.wPbjs.bidderTypeComplete(e,"openrtb");t={ortb_pb:e.frameData.ortbBid.cpm.toFixed(2),ortb_bidder:e.frameData.ortbBid.bidder||"unknown",ortb_size:(e.frameData.ortbBid.size||[300,250]).join("x"),auction_id:e.frameData.pbjsAuctionId},e.googletag.cmd.push((()=>{Object.entries(t).forEach((t=>{e.frameData.gptSlot.setTargeting(t[0],t[1])}))})),e.wPbjs.bidderTypeComplete(e,"openrtb")}function h(e,t){const i=e.frameData;A({version:"1.1",eventName:"gamFloorprice",data:{auctionId:i.pbjsAuctionId,bidder:"gam",unitId:i.unitIds&&i.unitIds[Object.keys(i.unitIds)[0]],domain:i.domain,floorprice:parseFloat(t)},host:window.top&&window.top.location&&window.top.location.host||"",timestamp:Date.now()})}function A(e){var t;window.pbjs._nextMillenniumStatistic?window.pbjs._nextMillenniumStatistic.add(e):(t=[e],fetch("https://report2.hb.brainlyads.com/statistics",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)}))}function y(t){e.log(`wPbjs => (auctionId = ${t}) >>> prebid request`);let i=window.pbjs.analyticAdapterOptions.auctions[t];i.forEach((e=>{let t=window.wPbjs.frameDatas[e];!function(e){let t=Object.keys(e.deducts);if(!e.deducts||t.length)return null;let i={};for(let n=0;n<t.length;n++)i[t[n]]={bidCpmAdjustment:function(i){return i*e.deducts[t[n]]}};window.pbjs.bidderSettings=i}(t),t.ortbBidders.length&&!t.skipDFP&&(t.totalBidderTypes++,t.ortbBidders=t.ortbBidders.map((e=>g[e.bidder](t,e.params||{}))),function(e,t){if(!(t=t.filter((e=>e.endpoint&&e.body))).length)return f(e,e);e.frameData.ortbTotalBidders=t.length,t.forEach((t=>{fetch(t.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},mode:t.corsMode,body:JSON.stringify(t.body)}).then((e=>{if(200===e.status)return e.json()})).then((t=>{if(!t)return f(e);f(e,t)})).catch((i=>{console.error("error from ortb bidder: ",t.bidder||"",i),f(e)}))})),setTimeout((()=>{w(e)}),1500)}(t.frameWindow,t.ortbBidders))}));let n=function(t){let i=!1;return function(){e.log(`wPbjs => (auctionId = ${t}) >>> parse results - start`,i),i||(i=!0,window.pbjs.analyticAdapterOptions.auctions[t].forEach((i=>{let n=window.wPbjs.frameDatas[i];var a;e.log(`wPbjs => (auctionId = ${t}, divId = ${n.divId}) >>> select the winner`),n.startAuctionTime=Date.now(),n.eventBus.registerStartAuction(i),n.type&&1!=n.type?function(t){e.log(`wPbjs => (${t.frameData.divId}) >>> run initAdserver video`);let i=v(t,D(t));t.frameData.winVideoAdUnitCode=i.adUnitCode,(!t.frameData.amazonBids||t.frameData.amazonBids&&t.frameData.finishedSettingBidsForOther)&&I(t),t.frameData.amazonBids&&!t.frameData.finishedSettingBidsForOther&&(t.frameData.finishedSettingBidsForOther=!0)}(n.frameWindow):(a=n.frameWindow,e.log(`wPbjs => (${a.frameData.divId}) >>> func initAdserver - satrt, pbjs.initAdserverSet =`,a.frameData.pbjsInitAdserverSet),a.frameData.pbjsInitAdserverSet||(a.frameData.endAuctionTime=Date.now(),a.frameData.eventBus.registerEndAuction(a.frameData.pbjsAuctionId),a.frameData.pbjsInitAdserverSet=!0,a.frameData.skipDFP?function(t){e.log(`wPbjs => (${t.frameData.divId}) >>> initAdserverBannerSkipGAM`),t.googletag.cmd&&t.googletag.cmd[0]&&t.googletag.cmd[0]();let i=new CustomEvent("slotRenderEnded");i.isEmpty=!0,t.pbjs.que.push((function(){let n=v(t,D(t)),a=n.adUnitCode;if(e.log("wPbjs => func initAdserver - selectWin, winAdUnitCode =",a),n.isWin){i.isEmpty=!1,i.size=t.adUnitSize;let n=t.pbjs.getAdserverTargetingForAdUnitCode(a);e.log("wPbjs => func initAdserver - getAdserverTargetingForAdUnitCode, winTargetData =",n),t.frameData.renderData[a]=n,n=JSON.parse(JSON.stringify(n)),t.frameData.renderData[a].rendered=!1,t.dataPbjsWin={},t.dataPbjsWin[a]=n;let r=new Event("setTargeting");t.document.dispatchEvent(r),window.wPbjs.bidderTypeComplete(t,"prebid - skipDFP")}t.googletag.pubads().dispatchEvent(i)}))}(a):function(t){e.log(`wPbjs => (${t.frameData.divId}) >>> initAdserverBannerGAM`),t.googletag.cmd.push((function(){t.pbjs.que.push((function(){let i=v(t,D(t)),n=i.adUnitCode,a=i.bidData;if(e.log(`wPbjs => (${t.frameData.divId}) winAdUnitCode = ${n}`),t.frameData.customTargetings.forEach((e=>{Array.isArray(e)&&e.length>1&&t.frameData.gptSlot.setTargeting(String(e[0]),String(e[1]))})),i.gamCpm&&!i.isWin&&(t.frameData.gptSlot.setTargeting("fp_pb",i.gamCpm.toFixed(2)),t.frameData.gptSlot.setTargeting("nm_id",t.frameData.nmAd.id),h(t,i.gamCpm)),e.log(`wPbjs => (${t.frameData.divId}) >>> winAdUnitCode = ${n}`),i.isWin){e.log(`wPbjs => (${t.frameData.divId}) >>> set targetings, winAdUnitCode = ${n}`);let r=a.adserverTargeting;Object.keys(r).forEach((e=>{t.frameData.gptSlot.setTargeting(e,r[e])})),t.frameData.gptSlot.setTargeting("auctionId",t.frameData.pbjsAuctionId);let d=r&&parseFloat(r.hb_pb);t.frameData.gptSlot.setTargeting("orig_hb_pb",i.maxCpm.toFixed(2)),i.gamCpm&&i.maxCpm<i.gamCpm&&(d=i.gamCpm,t.frameData.gptSlot.setTargeting("hb_pb",d.toFixed(2)),h(t,i.gamCpm)),function({biddingRule:t,cpm:i,divId:n,gptSlot:a,targets:r,winAdUnitCode:d}){if(Number.isNaN(i)||!(r&&t[r.hb_bidder]&&t[r.hb_bidder].value))return;let o=1==t[r.hb_bidder].type&&t[r.hb_bidder].value||2==t[r.hb_bidder].type&&t[r.hb_bidder].value*i||0;if(!o)return;let s=i+o;s=s.toFixed(2),a.setTargeting(keyHbPb,s),e.log(`wPbjs => (${n}) set targetings, winAdUnitCode = `,d,"hb_bidder=",r.hb_bidder,"hb_pb=",r.hb_pb,"google hb_pb=",s);let c="hb_pb_"+r.hb_bidder;a.getTargeting(c).length&&(a.setTargeting(c,s),e.log(`wPbjs => (${n}) >>> set targetings, winAdUnitCode = `,d,"hb_bidder=",r.hb_bidder,"hb_pb=",r.hb_pb,"google "+c+"=",s))}({biddingRule:t.frameData.biddingRule,cpm:d,divId:t.frameData.divId,gptSlot:t.frameData.gptSlot,targets:r,winAdUnitCode:n})}else t.frameData.gptSlot.setTargeting("hb_pb","0.00"),t.frameData.gptSlot.setTargeting("orig_hb_pb","0.00");window.wPbjs.bidderTypeComplete(t,"prebid")}))}))}(a)))})))}}(t);window.pbjs.que.push((function(){i.forEach((e=>{let t=window.wPbjs.frameDatas[e];t.startAuctionTime=Date.now(),t.eventBus.registerStartAuction(e)})),window.pbjs.requestBids({auctionId:t,adUnitCodes:i.reduce(((e,t)=>e.concat(window.wPbjs.frameDatas[t].adUnits.map((e=>e.code)))),[]),bidsBackHandler:n,timeout:window.pbjs.bidTimeout})})),setTimeout(n,3500)}function D(e){return e.frameData.adUnits.map((e=>e.code)).reduce(((e,t)=>{let i=window.pbjs.getBidResponsesForAdUnitCode(t);return i&&(e[t]=i),e}),{})}function v(t,i){e.log(`wPbjs => (${t.frameData.divId}) >>> selectWin`,i);let n=t.frameData.unitRule,a=Object.keys(i),r=[];for(let n=0;n<a.length;n++){let d=j(t.frameData.adUnits.find((e=>e.code===a[n]))),o=0;r.push({winAdUnitCode:"",winAdUnitData:null});for(let s=0;s<i[a[n]].bids.length;s++)e.log(`wPbjs => (${t.frameData.divId}) Response: adUnitCode=`+a[n]+" cpm=$"+i[a[n]].bids[s].cpm+" bidder="+i[a[n]].bids[s].bidder+(d&&" unitSizes="+JSON.stringify(d)||"")+" responseSize=["+i[a[n]].bids[s].width+","+i[a[n]].bids[s].height+"]"),i[a[n]].bids[s].cpm>o&&(r[n].winAdUnitCode=a[n],r[n].winAdUnitData=i[a[n]].bids[s],o=i[a[n]].bids[s].cpm)}e.log(`wPbjs => (${t.frameData.divId}) winsAdUnit >>>`,r);let d,o={isWin:!1,adUnitCode:"",bidData:null,maxCpm:0,gamCpm:0},s=n.find((e=>"gam"===e.code));o.gamCpm=s&&s.price||0;for(let e=0;e<r.length;e++)r[e].winAdUnitCode&&r[e].winAdUnitData.cpm>o.maxCpm&&(o.adUnitCode=r[e].winAdUnitCode,o.bidData=r[e].winAdUnitData,o.maxCpm=r[e].winAdUnitData.cpm);if(e.log(`wPbjs => (${t.frameData.divId}) response >>>`,o),o.adUnitCode){d=t.frameData.adUnits.find((e=>e.code===o.adUnitCode));let i=n.find((e=>e.code===o.bidData.bidderCode)),a=i&&i.price;if(!a&&"rhythmone"==o.bidData.bidderCode){let e=d.bids.find((e=>"rhythmone"==e.bidder));a=e&&e.params&&e.params.floor||t.frameData.defaultFloorRhythmone}(!a||a&&a<=o.bidData.cpm)&&(o.isWin=!0,a&&a>0&&(e.log(`wPbjs => (${t.frameData.divId}) floorprice >>>`,a),t.frameData.unitIds.floorprice=a))}if(o.isWin){let i=j(d);t.adUnitSize=[o.bidData.width,o.bidData.height],e.log(`wPbjs => (${t.frameData.divId}) Winner: adUnitCode=`+o.adUnitCode+" cpm=$"+o.bidData.cpm+" bidder="+o.bidData.bidder+" unitSizes="+JSON.stringify(i)+" responseSize=["+o.bidData.width+","+o.bidData.height+"]"),function(e,t){const i=e.frameData;A({version:"1.1",eventName:"winBid",data:{auctionId:i.pbjsAuctionId,bidder:t.bidder,unitId:i.unitIds&&i.unitIds[Object.keys(i.unitIds)[0]],domain:i.domain,refresh:i.kvRefresh,floorprice:window.pbjs.analyticAdapterOptions.data[t.auctionId].unitRules[t.bidder]||void 0},host:window.top&&window.top.location&&window.top.location.host||"",timestamp:Date.now()})}(t,o.bidData)}return o}function j(e){return e&&e.mediaTypes?e.mediaTypes.banner?e.mediaTypes.banner.sizes:e.mediaTypes.video?e.mediaTypes.video.playerSize:"":""}function I(t){e.log(`wPbjs => (${t.frameData.divId}) >>> run video`);let i=t.frameData.winVideoAdUnitCode||Object.keys(t.frameData.adUnitCodeToDFPPath)[0],n=t.frameData.customTargetings.reduce(((e,t)=>(Array.isArray(t)&&t.length>1&&(e[String(t[0])]=String(t[1])),e)),t.frameData.amazonCustomTargetings),a=window.pbjs.adServers.dfp.buildVideoUrl({adUnit:t.frameData.adUnits.find((function(e){return e.code==i})),bid:!t.frameData.winVideoAdUnitCode&&{}||void 0,params:{iu:t.frameData.adUnitCodeToDFPPath[i],cust_params:n,output:"vast"}});t.frameData.winVideoAdUnitCode&&t.pbjs.markWinningBidAsUsed({adUnitCode:t.frameData.winVideoAdUnitCode}),e.log(`wPbjs => (${t.frameData.divId}) >>> vastURL =`,a);let r=t.document.getElementById(t.frameData.divId);r&&t.vastAd&&t.vastAd(a,r)}function S(e,t,i){i.amazon||(i.amazon=!0,1==t&&window.wPbjs.bidderTypeComplete(e,"amazon"),2==t&&(e.frameData.finishedSettingBidsForOther?I(e):e.frameData.finishedSettingBidsForOther=!0))}const T=()=>performance&&performance.now()||Date.now();window.PWT=window.PWT||{},window.pWindow=void 0;try{window.parent.parent.document,window.pWindow=window.parent.parent.window}catch(e){try{window.parent.document,window.pWindow=window.parent.window}catch(e){window.pWindow=window}}window.tWindow=function e(t,i=0){if(i>10)return t;try{return t.parent.document,e(t.parent.window,++i)}catch(e){return t}}(window);const C=window.wPbjs=window.wPbjs||{frameDatas:{}};function P({endTime:t,auctionId:i,auctionIds:n}){window.pbjs.analyticAdapterOptions.auctions[i]=n.filter((e=>window.wPbjs.frameDatas[e])),window.pbjs.analyticAdapterOptions.auctions[i].length==n.length||t<=T()?function(t){(function(t){if(e.log(`setDataForStatistic (${t})`),!window.pbjs.analyticAdapterOptions.auctions[t])return;e.log(`setDataForStatistic (${t}) >>> auctionIds:`,window.pbjs.analyticAdapterOptions.auctions[t]);const i={},n={},a={};window.pbjs.analyticAdapterOptions.auctions[t].forEach((e=>{if(!window.wPbjs.frameDatas[e])return;const t=window.wPbjs.frameDatas[e];let r;if(Object.keys(t.unitIds).forEach((e=>{r||(r=t.unitIds[e]),i[e]=t.unitIds[e]})),Array.isArray(t.customTargetings)){let e=t.customTargetings.find((e=>"refresh"==e[0]));e&&(t.kvRefresh=parseInt(e[1])||0),(!a[r]||a[r]&&a[r]<t.kvRefresh)&&(a[r]=t.kvRefresh),n[r]||(n[r]=t.unitRule.reduce(((e,t)=>(e[t.code]=t.price,e)),{}))}})),window.pbjs.analyticAdapterOptions.data[t]={unitIds:i,unitRules:n,kvRefreshes:a},window.pbjs.adUnitExpire[t]=Date.now()+r,e.log(`setDataForStatistic (${t}) >>> stat data:`,window.pbjs.analyticAdapterOptions.data[t],i,n,a)})(t),e.log("wPbjs => pbjsConfig",l.config),window.pbjs.que.push((function(){window.pbjs.setConfig(l.config)})),y(t)}(i):setTimeout(P,5,{endTime:t,auctionId:i,auctionIds:n})}function x(t){if("function"==typeof t)try{t.call()}catch(t){e.error("Error processing command:",t.message,t.stack)}else e.error("Command is not a function")}window.wPbjs.cmd=window.wPbjs.cmd||[],window.wPbjs.debug="1"===function(e){let t=window.document.cookie.match(new RegExp("(?:^|; )"+"hbdebug".replace(/([\.$?*|{}\(\)\[\]\\\/\\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}()||window.pWindow.location&&window.pWindow.location.search&&window.pWindow.location.search.replace(/^\?/,"").split("&").some((e=>"hbdebug=1"===e)),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.pbjs.analyticAdapterOptions={version:"1.1",data:{},auctions:{}},window.pbjs.bidTimeout=1500,window.pbjs.adUnitExpire={},window.pbjs.eventBidWonFuncs={},window.pbjs.que.push((function(){window.pbjs.enableAnalytics([{provider:"nextMillennium",options:window.pbjs.analyticAdapterOptions}]),window.pbjs.onEvent("bidWon",(function(e){window.pbjs.eventBidWonFuncs[e.auctionId]&&window.pbjs.eventBidWonFuncs[e.auctionId].func(e)}))})),C.add=function(t,i){if(t.debug&&(C.debug=!0),e.log(`wPbjs.add (${t&&t.divId}) >>>`,C),!t)return;const o={expire:Date.now()+12e5,frameWindow:i,startTime:Date.now()};if(C.frameDatas[t.auctionId]=i.frameData=o,o.pbjsAuctionId=t.auctionId,o.eventBus=function(){const t={startWrapper:"startWrapper",startAuction:"startAuction",endAuction:"endAuction",startRenderAd:"startRenderAd",endRenderAd:"endRenderAd",slotRenderEnded:"slotRenderEnded",slotOnload:"slotOnload",impressionViewable:"impressionViewable"},i={auctions:{}};let n={event:""};const a={debug:!1},r={events:i,state:n,eventsList:()=>Object.values(t),registerStartWrapper:function(){var e;i[e=t.startWrapper]=o(e),s(e),c(i[e]),i[e]},registerStartAuction:function(e){d(t.startAuction,e)},registerEndAuction:function(e){d(t.endAuction,e)},registerStartRenderAd:function(e){d(t.startRenderAd,e)},registerEndRenderAd:function(e){d(t.endRenderAd,e)},registerSlotRenderEnded:function(e){d(t.slotRenderEnded,e)},registerSlotOnload:function(e){d(t.slotOnload,e)},registerImpressionViewable:function(e){d(t.impressionViewable,e)},cleanAuction:function(e){delete i.auctions[e]},getStartWrapper:()=>i[t.startWrapper]||null,getStartAuction:e=>r.getAuctionEvent(e,t.startAuction),getEndAuction:e=>r.getAuctionEvent(e,t.endAuction),getStartRenderAd:e=>r.getAuctionEvent(e,t.startRenderAd),getEndRenderAd:e=>r.getAuctionEvent(e,t.endRenderAd),getSlotRenderEnded:e=>r.getAuctionEvent(e,t.slotRenderEnded),getSlotOnload:e=>r.getAuctionEvent(e,t.slotOnload),getImpressionViewable:e=>r.getAuctionEvent(e,t.impressionViewable),getAuctionEvent(e,t){const n=i.auctions[e];return n&&n[t]?n[t]:null},setDebug(e){a.debug=e}};return r;function d(e,t){return i.auctions[t]||(i.auctions[t]={}),i.auctions[t][e]=o(e),s(e),c(i.auctions[t][e]),i.auctions[t][e]}function o(e,t){const i={name:e,timestamp:Date.now(),performanceTime:performance?performance.now():null};return t&&(i.auctionId=t),i}function s(e){n.event=e}function c(t){if(!0===a.debug){const i=[t.auctionId?t.auctionId+":"+t.name:t.name,"Timestamp: "+t.timestamp,"PerfomanceTime: "+t.performanceTime];e.log(i.join("; "))}}}(),o.adMetrics=function(e,t){const i={flush:function(e,t,n){try{const a={name:t&&t.name,domain:t&&t.domain,bidder:n&&n.bidderCode,metrics:i.calculate(e)};return i.send(a)}catch(e){console.error(e)}},calculate:function(e){const i={auctionInit:a(e),auctionHolding:r(e),renderAd:d(e),slotRenderEnded:o(e),slotOnload:s(e),prebidStartDuration:t.startAuctionTime-t.startTime,auctionDuration:t.endAuctionTime-t.startAuctionTime,renderAdDuration:t.renderAdTime-t.endAuctionTime};return Object.keys(i).forEach((e=>{null===i[e]&&delete i[e]})),i},send(e){fetch(n,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)})}};return i;function a(t){return c(e.getStartWrapper(),e.getStartAuction(t))}function r(t){return c(e.getStartAuction(t),e.getEndAuction(t))}function d(t){return c(e.getStartRenderAd(t),e.getEndRenderAd(t))}function o(t){return c(e.getStartRenderAd(t),e.getSlotRenderEnded(t))}function s(t){return c(e.getStartRenderAd(t),e.getSlotOnload(t))}function c(e,t){let i=null;return e&&t?(i=e.hasOwnProperty("performanceTime")&&t.hasOwnProperty("performanceTime")?t.performanceTime-e.performanceTime:t.timestamp-e.timestamp,i=i>0?i:Math.abs(i),i=Math.round(i),i):i}}(o.eventBus,i),o.eventBus.registerStartWrapper(),t.prebidBidTimeout>window.pbjs.bidTimeout&&(window.pbjs.bidTimeout=t.prebidBidTimeout),o.gptSlot=null,o.type=d.some((e=>t.type==e))&&t.type||1,o.adUnitCodeToDFPPath=t.adUnitCodeToDFPPath||{},o.biddingRule=t.biddingRule||{},o.skipDFP=!!t.skipDFP,o.codeAdUnit=t.codeAdUnit||"",o.divId=t.divId||"",o.defaultFloorRhythmone=t.defaultFloorRhythmone||void 0,o.unitId=t.unitIndex||0,o.nmAd=t.nmAd||{},o.unitIds=t.unitIds||{},o.domain=t.unit&&t.unit.domain||void 0,o.pbjsUnit=t.unit,o.sizeFluid=t.sizeFluid,o.sizeFluidOnlyForGAM=t.sizeFluidOnlyForGAM,o.schain=t.schain,o.bidderOptions=t.bidderOptions,o.size1x1=t.size1x1,o.gumgumRemovalTime=t.gumgumRemovalTime,o.usPrivacyTimeout=t.usPrivacyTimeout,o.isLiveRamp=t.isLiveRamp,o.liverampPartnerId=t.liverampPartnerId,o.userSyncDelay=t.userSyncDelay,o.isGdrpIp=t.isGdrpIp,o.pbsBidders=t.pbsBidders,o.cacheUrl=t.cacheUrl,o.deducts=t.deducts,o.nearEnabled=t.nearEnabled,t.unitSizes){try{"string"==typeof t.unitSizes&&(t.unitSizes=JSON.parse(t.unitSizes)),Array.isArray(t.unitSizes)||(t.unitSizes=[])}catch(e){console.error("unitSizes parse >>> ",t.unitSizes,e),t.unitSizes=[]}Array.isArray(t.unitSizes)&&t.unitSizes.length&&(t.sizesAdUnit=t.unitSizes,t.adUnits.forEach((e=>{/^1\-.+/.test(e.code)&&(e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&(e.mediaTypes.banner.sizes=t.sizesAdUnit),e.mediaTypes.video&&e.mediaTypes.video.playerSize&&(e.mediaTypes.video.playerSize=t.sizesAdUnit))})))}if(o.sizesAdUnit=t.sizesAdUnit,o.apAds=new Event("apAds"),o.apAdsLine=new Event("apAds_line"),o.apAdsX=new Event("apAds_x"),o.apAdsHide=new Event("apAds_hide"),i.adUnitSize=null,o.renderData={},o.isRequestEnd={amazon:!1,pbjs:!1},o.isPbjsSetupComplete=!1,o.finishedSettingBidsForOther=!1,o.paId=null,o.adUnits=[],o.unitRuleTestStatus=void 0,o.testStatus=null,o.renderData={},o.amazonBids=!1,o.customTargetings=[],o.amazonCustomTargetings={},o.kvRefresh=0,o.winVideoAdUnitCode="",o.totalBidderTypes=1,o.completedBidderTypes=0,o.ortbTotalBidders=0,o.ortbCompletedBidders=0,o.ortbWinBidChosen=!1,o.ortbDone=!1,o.ortbBidders=t.ortbBidders||[],o.ortbBid=null,o.ortbAdRendered=!1,o.ortbBids=[],o.unitRule=t.unitRule||[],o.unitRule&&t.unitRulePercent){const e=t.unitRulePercent;100*Math.random()<e.percent?o.unitRuleTestStatus=e.test_status:o.unitRuleTestStatus="Control"}if("string"==typeof t.customTargetings)try{t.customTargetings=JSON.parse(t.customTargetings)}catch(e){t.customTargetings=[]}t.adUnits&&(t.adUnits=t.adUnits.map((e=>(e.bids=m.filterBidders(e.bids,{unitId:o.unitId,pageId:a}),e))),o.adUnits=t.adUnits),o.testStatus=o.unitRuleTestStatus||t.biddingRuleTestStatus,o.testStatus&&o.customTargetings.push(["testStatus",o.testStatus]),!t.skipDFP&&t.customTargetings&&(o.customTargetings=t.customTargetings),function(t){e.log(`wPbjs => (${t.divId}) >>> checkConfigPbjs`),function(e){(function(e){e.schain&&(l.schain={ver:"1.0",complete:1,nodes:[{asi:e.schain.asi,sid:e.schain.sellerId,hp:1}]})})(e),l.config={debug:window.wPbjs.debug,priceGranularity:"high",consentManagement:{usp:{cmpApi:"iab",timeout:e.usPrivacyTimeout}},userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}}},schain:{validation:"strict",config:l.schain}},function(e){e.isLiveRamp&&(l.config.userSync.userIds=[{name:"identityLink",params:{pid:e.liverampPartnerId},storage:{type:"cookie",name:"idl_env",expires:1}}],l.config.userSync.syncDelay=e.userSyncDelay)}(e),function(e){e.isGdrpIp&&(l.config.consentManagement.gdpr={cmpApi:"iab",defaultGdprScope:!0})}(e),function(e){e.pbsBidders.length&&(l.config.s2sConfig?e.pbsBidders.forEach((e=>{l.config.s2sConfig.some((t=>t==e))||l.config.s2sConfig.bidders.push(e)})):l.config.s2sConfig={accountId:"1",enabled:!0,bidders:e.pbsBidders,endpoint:"https://pbs.nextmillmedia.com/openrtb2/auction",adapter:"prebidServer",cookieSet:!0,syncEndpoint:"https://pbs.nextmillmedia.com/cookie_sync"})}(e),function(e){2==e.type&&(l.config.consentManagement.cache={url:e.cacheUrl})}(e)}(t),function(e){window.pbjs.eventBidWonFuncs[e.pbjsAuctionId]={expire:Date.now()+r},e.type,e.type}(t)}(o),t.amazonBids=t.amazonBids&&!m.check.amazonCap(t.amazonCap,o.unitId),t.amazonBids&&!o.skipDFP&&(o.totalBidderTypes++,function(e){const t=e.frameData;!function(e,t,i,n,a,r,d){function o(i,n){t[e]._Q.push([i,n])}t[e]||(t[e]={init:function(){o("i",arguments)},fetchBids:function(){o("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(r=i.createElement(n)).async=!0,r.src="//c.amazon-adsystem.com/aax2/apstag.js",(d=i.getElementsByTagName(n)[0]).parentNode.insertBefore(r,d))}("apstag",e,e.document,"script");let i,n={pubID:"79e40b05-e673-4b6c-85f9-79252a7f96a5",schain:l.schain,bidTimeout:2e3};setTimeout(S,t.prebidBidTimeout||1500,e,t.type,e.frameData.isRequestEnd);let a={slots:[{sizes:t.sizesAdUnit}]};1==t.type&&(n.adServer="googletag",a.slots[0].slotName=t.codeAdUnit,a.slots[0].slotID=t.divId,i=function(t){e.frameData.isRequestEnd.amazon||e.googletag.cmd.push((function(){e.apstag.setDisplayBids(),S(e,1,e.frameData.isRequestEnd)}))}),2==t.type&&(n.videoAdServer="DFP",a.slots[0].mediaType="video",a.slots[0].slotID="video_HB",i=function(i){if(!e.frameData.isRequestEnd.amazon){try{t.amazonCustomTargetings=i&&i[0]&&i[0].qsParams&&i[0].qsParams.split("&").reduce(((e,t)=>{if(t){let i=t.split("=");e[i[0]]=i[1]}return e}),{})||{}}catch(e){console.error(e),t.amazonCustomTargetings={}}S(e,2,e.frameData.isRequestEnd)}}),e.apstag.init(n),e.apstag.fetchBids(a,i)}(i),o.amazonBids=t.amazonBids),function(t,i){e.log(`wPbjs => (${t.frameData.divId}) loadScripts!!!!!`);let n=[];i.skipDFP||n.push({src:"https://www.googletagservices.com/tag/js/gpt.js",async:!0}),i.isBidderSublime&&n.push({src:`//sac.ayads.co/sublime/${i.sublimeZoneId}/prebid`,async:!1}),u(t,n)}(i,t),function(t){const i=t.frameData;if(e.log(`wPbjs => (${i.divId}) >>> getGptSlot`),i.skipDFP)return void(t.googletag.pubads=function(){return t.document.getElementById(i.divId)});let n=[];i.sizeFluid&&n.push("fluid"),(!i.sizeFluid||i.sizeFluid&&!i.sizeFluidOnlyForGAM)&&(n=n.concat(i.sizesAdUnit)),t.googletag.cmd.push((function(){t.googletag.pubads().disableInitialLoad(),i.gptSlot=t.googletag.defineSlot(i.codeAdUnit,n,i.divId).addService(t.googletag.pubads()),t.googletag.pubads().enableSingleRequest(),!0!==i.nearEnabled&&t.googletag.enableServices()}))}(i),o.nearEnabled&&!o.skipDFP&&function(t){t.googletag.cmd.push((function(){const i=t.npt;if(!i)return e.error("wPbjs => npt not found >>> initNear"),void t.googletag.enableServices();i.setIdCallback((function(e){t.googletag.pubads().setPublisherProvidedId(e._ncid),t.googletag.enableServices()})),i.process()}))}(i),window.pbjs.que.push((function(){window.pbjs.addAdUnits(o.adUnits)}))},C.run=function(i){if(e.log("wPbjs.run >>>",i),!Array.isArray(i)&&"string"!=typeof i)return void e.warn("wPbjs.run >>> The input parameter must be a string or an array");Array.isArray(i)||(i=[i]);let n=t();P({endTime:T()+200,auctionId:n,auctionIds:i})},C.delete=function(t,i){e.log("wPbjs.delete >>>",t),Array.isArray(t)||"string"==typeof t?(Array.isArray(t)||(t=[t]),window.pbjs.que.push((function(){t.forEach((e=>{C.frameDatas[e].adUnits.forEach((e=>{window.pbjs.removeAdUnit(e.code)})),delete C.frameDatas[e]}));let e=Object.keys(window.pbjs.analyticAdapterOptions.auctions).find((e=>window.pbjs.analyticAdapterOptions.auctions[e].some((e=>t.some((t=>t==e))))));e&&delete window.pbjs.analyticAdapterOptions.auctions[e],"function"==typeof i&&i()}))):e.warn("wPbjs.delete >>> The input parameter must be a string or an array")},C.bidderTypeComplete=function(t,i){if(e.log(`wPbjs => (${t.frameData.divId}) >>> bidderTypeComplete(${i})`),++t.frameData.completedBidderTypes==t.frameData.totalBidderTypes){const i=t.frameData.pbjsAuctionId,n=t.frameData.pbjsUnit;if(t.frameData.eventBus.registerStartRenderAd(i),t.frameData.skipDFP)e.log(`wPbjs => (${t.frameData.divId}) >>> skipDFP - run renderAd`),function(t){if(t.frameData.renderData)return;e.log(`wPbjs => (${t.frameData.divId}) >>> renderAd - start`);let i=Object.keys(t.frameData.renderData);e.log(`wPbjs => (${t.frameData.divId}) func renderAd - codes = `,i),i.forEach((i=>{if(t.frameData.renderData[i].rendered)return;t.frameData.renderData[i].rendered=!0;let n=t.document.getElementById(t.frameData.divId);if(e.log(`wPbjs => (${t.frameData.divId}) func renderAd - block = `,n),!n)return;let a=t.document.createElement("iframe");a.id=`google_ads_iframe_${t.frameData.divId}_0`,a.setAttribute("frameborder",0),a.setAttribute("scrolling","no"),a.setAttribute("marginheight","0"),a.setAttribute("marginwidth","0"),a.setAttribute("hspace","0"),a.setAttribute("vspace","0"),a.setAttribute("topmargin",0),a.setAttribute("leftmargin",0),a.setAttribute("allowtransparency",!0),a.setAttribute("width",0),a.setAttribute("height",0),a.setAttribute("border","0px"),a.style.border="0",n.appendChild(a);let r=t.frameData.renderData[i],d=a.contentWindow.document;r&&r.hb_adid&&(e.log(`wPbjs => (${t.frameData.divId}) func renderAd - RUN pbjs.renderAd, adServerTargeting = `,r),t.pbjs.renderAd(d,r.hb_adid)),t.frameData.renderData[i]}))}(t);else try{t.googletag.pubads().addEventListener("slotRenderEnded",(function(){t.frameData.eventBus.registerSlotRenderEnded(i)})),t.googletag.pubads().addEventListener("slotOnload",(function(){t.frameData.eventBus.registerSlotOnload(i);const e=t.pbjs.eventBidWonFuncs[i],a=e?e.winBid:null;a&&t.frameData.adMetrics.flush(i,n,a)})),t.googletag.pubads().addEventListener("impressionViewable",(function(){t.frameData.eventBus.registerImpressionViewable(i)})),e.log(`wPbjs => (${t.frameData.divId}) >>> GPT refresh`,t.frameData.gptSlot),t.googletag.pubads().refresh([t.frameData.gptSlot])}catch(e){console.error(e)}}},C.renderOrtbAd=function(t,i){let n=C.frameDatas[Object.keys(C.frameDatas).find((e=>e==i))];if(n.ortbAdRendered)return;if(n.ortbAdRendered=!0,!n.ortbBid||!n.ortbBid.bid)return;let a=n.frameWindow.document.createElement("iframe");a.setAttribute("frameborder",0),a.setAttribute("scrolling","no"),a.setAttribute("marginheight","0"),a.setAttribute("marginwidth","0"),a.setAttribute("hspace","0"),a.setAttribute("vspace","0"),a.setAttribute("topmargin",0),a.setAttribute("leftmargin",0),a.setAttribute("allowtransparency",!0),a.setAttribute("border","0px"),a.setAttribute("width",n.ortbBid.bid.w),a.setAttribute("height",n.ortbBid.bid.w),a.style.width=n.ortbBid.bid.w+"px",a.style.height=n.ortbBid.bid.h+"px";try{t.body.appendChild(a)}catch(t){return void e.error("failed to append ortb frame, ",t)}let r=a.contentDocument;r?(r.open(),r.write(n.ortbBid.bid.adm),r.close(),t.defaultView.frameElement.width=n.ortbBid.bid.w||300,t.defaultView.frameElement.height=n.ortbBid.bid.h||250):e.warn("failed to get frameDocument for ortb iframe")},C.renderAd=function(t,n){let a=C.frameDatas[Object.keys(C.frameDatas).find((e=>C.frameDatas[e]&&C.frameDatas[e].nmAd&&C.frameDatas[e].nmAd.id==n))];if(!a)return;e.log(`wPbjs => (${a.divId})renderAd - fakeAd nmAd.id=${a.nmAd.id}`),t.defaultView.frameElement.width=a.nmAd.size[0]||300,t.defaultView.frameElement.height=a.nmAd.size[1]||250;let r=a.nmAd.url||`${i}/images/${a.nmAd.img}`,d=t.createElement("img");d.src=r,d.style.padding="0px",d.style.margin="0px",d.style.border="0px",t.body.appendChild(d)},C.cmd.push=x,C.cmd.forEach((e=>{x(e)})),window.loadJSScripts=function(t,n){e.log("loadJSScripts!!!!!");let a=[];const r={src:`${i}/prebid.nm.1.0.js`,async:!0};a.push({src:"https://js-sec.indexww.com/ht/p/188333-91751857837145.js",async:!0});let d=[r],o=!1,s=()=>{o||(o=!0,u(t,d))};t.PWT.jsLoaded=s;let c=t.location.href,p="";if(c.indexOf("pwtv=")>0){let e=/pwtv=(.*?)(&|$)/g.exec(c);e.length>=2&&e[1].length>0&&(p=`/${e[1]}`)}a.push({src:`//ads.pubmatic.com/AdServer/js/pwt/157577/2378${p}/pwt.js`,async:!0}),u(t,a,n),setTimeout(s,100)},function e(){const t=Date.now();Object.keys(window.pbjs.adUnitExpire||{}).forEach((e=>{t>window.pbjs.adUnitExpire[e]&&(delete window.pbjs.adUnitExpire[e],window.pbjs.que.push((()=>{window.pbjs.analyticAdapterOptions.data[e]&&(Object.keys(window.pbjs.analyticAdapterOptions.data[e]).forEach((e=>{window.pbjs.removeAdUnit(e)})),delete window.pbjs.analyticAdapterOptions.data[e])})))})),Object.keys(window.pbjs.eventBidWonFuncs||{}).forEach((e=>{window.pbjs.eventBidWonFuncs[e]&&t>window.pbjs.eventBidWonFuncs[e].expire&&delete window.pbjs.eventBidWonFuncs[e]})),Object.keys(window.wPbjs&&window.wPbjs.frameDatas||{}).forEach((e=>{t>window.wPbjs.frameDatas[e].expire&&delete window.wPbjs.frameDatas[e].expire})),setTimeout(e,6e4)}()})();